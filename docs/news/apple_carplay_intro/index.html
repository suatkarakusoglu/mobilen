<!-- Generated from 6bfd9cd on 2024-10-18 @ 16:14 with Emacs 31.0.50 (Org mode 9.7.11) -->
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta author="Mobilen - Suat Karakuşoğlu"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="icon" type="image/png" href="/img/favicon.png"/><link rel="alternative" type="application/rss+xml" title="Mobilen Yazılar" href="https://mobilen.art/rss/news.xml"/><link rel="stylesheet" href="https://mobilen.art/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="https://mobilen.art/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="https://mobilen.art/css/code.css"/><link rel="stylesheet" href="https://mobilen.art/css/site.css"/><link rel="stylesheet" href="https://mobilen.art/css/code_highlighter_dark_theme.css"/><title>Apple CarPlay&rsquo;e Giriş - Mobilen</title></head><body><header class="site-header"><div class="container"><div class="site-title"><h1>Mobilen</h1></div></div><div class="site-masthead"><div class="container"><nav class="nav"><a class="nav-link" href="/">Anasayfa</a> <a class="nav-link" href="/magazines/">Dergiler</a> <a class="nav-link" href="/news/">İçerikler</a> </nav></div></div></header><div class="container"><div class="site-post"><h1 class="site-post-title">Apple CarPlay&rsquo;e Giriş</h1><a class="tag" href="https://mobilen.art/tags/apple/">Apple #9</a><a class="tag" href="https://mobilen.art/tags/ios/">iOS #26</a><a class="tag" href="https://mobilen.art/tags/yazılım/">Yazılım #36</a><a class="tag" href="https://mobilen.art/tags/carplay/">CarPlay #1</a><p class="site-post-meta">8 min read | August 12, 2024</p><div id="content"><p>
<a href="https://www.linkedin.com/in/burak-ceylan-828abb181/">Burak Ceylan</a> yazdı.
</p>
<h2><a id="i̇çerik" class="anchor" href="#i̇çerik">¶</a>İçerik</h2><div class="outline-text-2" id="text-org552c7f5">
<p>
Merhaba Mobilen okurları, bu yazımda sizlere Apple’in yenilikçi teknolojilerinden Apple CarPlay’i sizlere aktarmaya çalışacağım.
</p>
</div>
<h3><a id="apple-carplay-nedir" class="anchor" href="#apple-carplay-nedir">¶</a>Apple CarPlay nedir?</h3><div class="outline-text-3" id="text-orgdb2aee1">
<p>
Apple CarPlay, Apple’in iPhone kullanıcıları icin iPhone’larda bulunan birçok fonksiyonun araç içerisindeki panellere entegre edilmesini sağlayan bir platformdur.
</p>

<p>
Bu platformun temel amacı sürücünün iPhone’undaki uygulamaları veya özellikleri araç içerisinde sürüş odağı bozulmadan kullanabilmesini sağlamaktır.
</p>
</div>
<h3><a id="apple-carplay-tarihçesi" class="anchor" href="#apple-carplay-tarihçesi">¶</a>Apple CarPlay Tarihçesi</h3><div class="outline-text-3" id="text-org5770160">
<p>
Apple CarPlay <code>2014 yılında</code> Cenevre Otomobil Fuarı’nda <code>iOS 7.1</code> beraberinde piyasaya sürülmüştür.
</p>



<div id="org895b0ab" class="figure">
<p><img src="/img/14_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 1: </span>2014 yılında CarPlay’in full versiyonu destekli ilk üretimi gerçekleştirilen <code>Ferrari FF</code>.</p>
</div>

<p>
2015 yılında iOS 9 beraberinde podcast ve sesli kitap gibi birçok kategoride third party uygulamalar destek eklendi.
</p>

<p>
iPhone ve araba arasında kurulan baglantının kablosuz bir sekilde olabilmesi saḡlandı. Araç specific kontrollerin (klima, radio, vs..) uygulamalar tarafından yönetimine olanak sağlandı.
</p>


<div id="org6d29458" class="figure">
<p><img src="/img/13_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 2: </span>CarPlay bağlantı türü seçimi.</p>
</div>

<p>
2016 yılında iOS 10 ile birlikte mesaj uygulamalarında mesajları sesli bir şekilde dinleme, sadece ses barındıran arayüzü aracılığıyla dikte ile cevap verme ve CarPlay ekranındaki uygulamaların yerini değiştirme ve kaldırma yetkinliği eklendi.
</p>


<div id="org899e603" class="figure">
<p><img src="/img/12_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 3: </span>Mesajları sesli dinleme özelliğinin aktifleştirilmesi.</p>
</div>

<p>
2018 yılında <code>iOS 12</code>&rsquo;nin gelişiyle beraber üçüncü parti navigasyon uygulamarına destek vermeye başlarken, Mesafe Tahmini ve navigasyon rehberliği özelliklerini getirdi.
</p>

<p>
2019 yılında <code>iOS 13</code> beraberinde CarPlay’in ana sayfasına alternatif olarak dashboard adı altında yeni bir ekran yaklaşımına geçildi. Dashboard ile birçok uygulama tek bir ekran üzerinden görüntülenerek yönetilebilmeye başlandı.
</p>



<div id="org8c73215" class="figure">
<p><img src="/img/11_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 4: </span>Örnek CarPlay dashboard ekranı.</p>
</div>

<p>
<code>iOS 14</code> ile birlikte 2020 yılında Widgetlar, sesli aramalar, ve apple musicte şarkı çalma istasyonu gibi yeni özelleştirmeler platforma kazandırıldı. Bunların yanı sıra park ve yemek siparişi uygulama kategorileri eklendi.
</p>

<p>
<code>iOS 15</code> ile birlikte 2021 yılında Focus modları (araç kullanımı sırasında bildirimleri önceliklendirme vb.), uygulamalarda harita ve facetime aramaları gibi yeni özellikler eklendi.
</p>

<p>
<code>iOS 16</code> ile beraber genişletilmiş arayüz, enstrüman kümesi(dock) güncellemelerini aldı. Buna ek olarak widgetlar için yeniden tasarlanmış bir düzen ve araç kameralarında görüntülere erişim gibi ekstralar eklendi. Mesaj gönderimindeki onaylama süreci ortadan kaldırıldı.
</p>

<p>
Yukarıda bahsetmiş olduğum yenilikler ilgili iOS versiyonlarının çıkışı ile tanıtılan bütün yenilikler değildir.
</p>

<p>
Sadece köklü olarak adlandırabileceğimiz CarPlay platformunun yaklaşımına yeni bir bakış açısı katan yenilikler olarak nitelendirebiliriz.
</p>

<p>
Bunların yanı sıra getirilen yenilikler için <a href="https://developer.apple.com/videos/all-videos/?q=CarPlay">wwdc-playlist</a>’ine veya <a href="https://developer.apple.com/documentation/carplay">car-play dokümantasyonuna</a> göz atabilirsiniz.
</p>
</div>
<h3><a id="apple-carplay-nasıl-çalışır" class="anchor" href="#apple-carplay-nasıl-çalışır">¶</a>Apple CarPlay Nasıl Çalışır</h3><div class="outline-text-3" id="text-orgb8166c2">
<p>
iPhone’u CarPlay’e bağlamak için USB ve Kablosuz olmak üzere iki farklı yöntem bulunmaktadır. CarPlay piyasaya sürülürken USB ile araca bağlanılabiliyordu.
</p>

<p>
2015 yılında iOS 9 ile beraber Apple iPhone’u CarPlay’e Kablosuz bir şekilde de bağlanabilme özellliği getirdi.
</p>

<p>
USB bağlatısı aracın CarPlay uyumlu portu ile iPhone arasında kablolu bir bağlantı kurarak gerçekleştirilebilmektedir. Kablosuz bağlantı ise wireless ve bluetooth yardımı ile gerçekleştirilmektedir.
</p>

<p>
Bluetooth CarPlay’in aranması ve aralarında gerçekleşecek olan handshake işlemi için kullanılırken bluetooth bağlantısının başarılı olması sonucunda bağlantı wireles üzerine aktarılır ve bluetooth devreden çıkarılır.
</p>

<p>
Bağlantı sağlandıktan sonra CarPlay’in sahip olduğu İP (İnternet Protokolu) ve iAP2 (Application Protocol Versiyon 2) protokolleri aracılığı ile veri aktarımının yönetimini gerçekleştirir.
</p>

<p>
iAP2 protokolü aracılığı ile sensörler ve metadata verileri yönetilirken, İP aracılığı ile hoperlör, mikrofon ve ekran arasındaki veri aktarımı gerçekleştirilir.
</p>

<p>
Bu veri alışverişi USB bağlantısında İP protokolü üzerinde Kablosuz bağlantıda ise iAP2 ve İP protokülünün her ikisinde de Communication Plug-In adı verilen yardımcı yazılım eklentisi ile gerçekleştirilir.
</p>


<div id="orgd2def9d" class="figure">
<p><img src="/img/10_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 5: </span>CarPlay ve cihaz arasindaki veri aktarımı.</p>
</div>

<p>
Bağlantı kurduktan sonra iPhone içerisindeki bilgiler CarPlay arayüzüne berlirli standart ve templatelere uygun şekilde aktarılır.
</p>

<p>
Bu aktarım sonrası CarPlay üzerinden media player kontrolü, arama, mesaj gönderme, navigasyonu kullanma ve Siri ile sesli komut verme gibi birçok özelliği aktif olarak kullanabiliriz.
</p>
</div>
<h4><a id="apple-carplayde-hangi-uygulama-türlerine-yer-verebiliriz" class="anchor" href="#apple-carplayde-hangi-uygulama-türlerine-yer-verebiliriz">¶</a>Apple CarPlay’de hangi uygulama türlerine yer verebiliriz?</h4><div class="outline-text-4" id="text-org98cc8cc">
<p>
Apple CarPlay’de Müzik, telefon, navigasyon, sesli kitaplar, podcastler, haberler ve sesli asistan uygulama türleri yer alabilmektedir.
</p>
</div>
<h4><a id="apple-carplay-uygulaması-geliştirirken-karşılaşacağımız-kısıtlamalar-neler" class="anchor" href="#apple-carplay-uygulaması-geliştirirken-karşılaşacağımız-kısıtlamalar-neler">¶</a>Apple CarPlay uygulaması geliştirirken karşılaşacağımız kısıtlamalar neler?</h4><div class="outline-text-4" id="text-org12764f3">
<p>
Yukarıda belirttiğim gibi CarPlay içerisinde barındırılabilecek uygulama türleri apple tarafından belirlenmektedir.
</p>

<p>
Arayüzdeki konum ve simge gibi özelleştirmeler Apple’ın belirlediği templatelerle sınırlıdır.
</p>
</div>
<h4><a id="apple-carplayi-projemizde-nasıl-aktif-hale-getirebiliriz" class="anchor" href="#apple-carplayi-projemizde-nasıl-aktif-hale-getirebiliriz">¶</a>Apple CarPlay’i Projemizde nasıl aktif hale getirebiliriz?</h4><div class="outline-text-4" id="text-org0a11cd1">
<p>
Gelelim Apple CarPlay için hali hazırda geliştirmesini yaptığımız veya sıfırdan başlayacağımız uygulamalarımızı CarPlay destekli hale getirmeye.
</p>

<p>
CarPlay’in yönetimini gerçekleştirmek için bir <code>CPTemplateApplicationSceneDelegate</code> interfaceini implement eden bir CarPlay scene delegate oluşturmamız ve oluşturduğumuz bu sınıfın tanımını projemizin <code>Info.plist</code> dosyasında vermemiz gerekmektedir.
</p>


<div id="org88c3100" class="figure">
<p><img src="/img/9_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 6: </span>Info.plist konfigürasyon görüntüsü.</p>
</div>

<div class="highlight"><pre><span></span>  <span class="kd">import</span> <span class="nc">CarPlay</span>
  <span class="kd">import</span> <span class="nc">UIKit</span>

  <span class="kd">class</span> <span class="nc">CarPlayTemplateApplicationSceneDelegate</span><span class="p">:</span> <span class="bp">NSObject</span><span class="p">,</span> <span class="bp">CPTemplateApplicationSceneDelegate</span> <span class="p">{</span>

      <span class="kd">func</span> <span class="nf">templateApplicationScene</span><span class="p">(</span><span class="kc">_</span> <span class="n">templateApplicationScene</span><span class="p">:</span> <span class="bp">CPTemplateApplicationScene</span><span class="p">,</span> <span class="n">didConnect</span> <span class="n">interfaceController</span><span class="p">:</span> <span class="bp">CPInterfaceController</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">OrderingService</span><span class="p">.</span><span class="n">service</span><span class="p">.</span><span class="n">inCarPlay</span> <span class="p">=</span> <span class="kc">true</span>
          <span class="n">MemoryLogger</span><span class="p">.</span><span class="n">shared</span><span class="p">.</span><span class="n">appendEvent</span><span class="p">(</span><span class="s">&quot;Template application scene did connect.&quot;</span><span class="p">)</span>
          <span class="n">TemplateManager</span><span class="p">.</span><span class="n">mananger</span><span class="p">.</span><span class="n">interfaceControllerDidConnect</span><span class="p">(</span><span class="n">interfaceController</span><span class="p">,</span> <span class="n">scene</span><span class="p">:</span> <span class="n">templateApplicationScene</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="kd">func</span> <span class="nf">templateApplicationScene</span><span class="p">(</span><span class="kc">_</span> <span class="n">templateApplicationScene</span><span class="p">:</span> <span class="bp">CPTemplateApplicationScene</span><span class="p">,</span>
                                    <span class="n">didDisconnectInterfaceController</span> <span class="n">interfaceController</span><span class="p">:</span> <span class="bp">CPInterfaceController</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">OrderingService</span><span class="p">.</span><span class="n">service</span><span class="p">.</span><span class="n">inCarPlay</span> <span class="p">=</span> <span class="kc">false</span>
          <span class="n">MemoryLogger</span><span class="p">.</span><span class="n">shared</span><span class="p">.</span><span class="n">appendEvent</span><span class="p">(</span><span class="s">&quot;Template application scene did disconnect.&quot;</span><span class="p">)</span>
          <span class="n">TemplateManager</span><span class="p">.</span><span class="n">mananger</span><span class="p">.</span><span class="n">interfaceControllerDidDisconnect</span><span class="p">(</span><span class="n">interfaceController</span><span class="p">,</span> <span class="n">scene</span><span class="p">:</span> <span class="n">templateApplicationScene</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></div>

<p>
Bu delegete sınıf içerisinde yukarıda görüldüğü gibi carplay’e bağlanma ve bağlantının kopması durumlarını temsil eden delege fonksiyonların implementasyonları gerçekleştirilmelidir.
</p>

<p>
Bu tanımlama aşamasını geçtikten uygulamanın yetkilerini belirten bir <code>Entitlements.plist</code> dosyası oluşturmamız ve bu dosya içerisinde apple’ın bize sunmuş olduğu entitlements tablosunda bulunan entitlementlardan uygulama içerisinde barındıracaklarımızı eklememiz gerekmektedir.
</p>


<div id="org328163d" class="figure">
<p><img src="/img/8_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 7: </span>Örnek entitlements dosyası.</p>
</div>

<p>
Dosyayı oluşturduktan sonra projemizin build ayarlarından <code>CODE_SIGN_ENTITLEMENTS</code> ayarını hazırladığımız bu dosyaya işaret edecek şekilde değiştirmemiz gerekmektedir.
</p>


<div id="org75b409c" class="figure">
<p><img src="/img/7_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 8: </span>Entitlement dosya işaretçisinin konfigürasyonu.</p>
</div>

<p>
Bu aşamaları başarılı bir şekilde tamamladıktan sonra projemizi ilgili iOS simülatöründe çalıştırıp, simülatörün toolbarından <code>I/O &gt; External Displays &gt; CarPlay</code> seçeneğine tıklayarak carPlay görünümünü external olarak açarak uygulamanın carplay üzerindeki geliştirmelerine başlayabiliriz.
</p>


<div id="org8b44857" class="figure">
<p><img src="/img/6_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 9: </span>CarPlay ekranının açılması.</p>
</div>


<div id="orga9e5c84" class="figure">
<p><img src="/img/5_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 10: </span>CarPlay ekran görseli.</p>
</div>

<p>
Uygulamamızı gerçek cihaz üzerinden test etmek istiyorsak Apple’ın developer programına üye olduğumuz ve ilgili projenin bundle’inin kaydını gerçekleştirdiğimiz hesap içerisinde ilgili bundle’ın CarPlay capability’sini <code>Additional Capabilities</code> tab&rsquo;ı altından aktif etmemiz gerekmektedir.
</p>


<div id="org00be205" class="figure">
<p><img src="/img/4_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 11: </span>CarPlay capabilities ekleme.</p>
</div>

<p>
Bu tab veya CarPlay capability&rsquo;si gözükmüyor ise henüz bu hesap üzerinden çar play uygulaması başvurusu yapılmmamış veya yapılan başvuru onaylanmamış anlamına gelmektedir.
</p>

<p>
Apple bu yetkinliğin açılımı için kendisine başvuru yapılması önkoşulunu koymuştur. Bu başvuru carPlay <a href="https://developer.apple.com/contact/request/carplay/">entitlement request link</a> üzerinden gerçekleştirilebilmektedir.
</p>


<div id="org0327500" class="figure">
<p><img src="/img/3_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 12: </span>Başvuru Sayfası</p>
</div>

<p>
Başvurunun kabulü ve gerekli entitlement’in enable edilmesinden sonra imzalama işlemimimiz automatic ise direkt olarak gerçek cihaz üzerinde çalışmalarımızı sürdürebiliriz. Eğer imzalama işlemimiz manuel ise provision dosyamızı güncelleyerek geliştirmelerimize devam edebiliriz.
</p>
</div>
<h4><a id="carplay-simulatoru" class="anchor" href="#carplay-simulatoru">¶</a>CarPlay Simulatoru</h4><div class="outline-text-4" id="text-orga4f87e0">
<p>
Bildiğimiz gibi yapacağımız gerçek cihaz geliştirmeleri için CarPlay’e sahip bir araç bulmak iPhone temin etmekten zor olabilmektedir.
</p>

<p>
Bu nedenle apple CarPlay simülatör isimli bir uygulama geliştirmiştir. Bu uygulamayı sisteme yüklü olan XCode versiyonuna uygun olan <a href="https://developer.apple.com/download/all/?q=Additional+Tools+for+Xcode">Additional tools</a> paketini indirerek içerisinde bulunan Hardware klasörü altından erişebilirsiniz. Uygulamayı çalıştırıp telefonumuzu kablolu veya kablosuz şekilde bağlayarak gerçek Carplay simülasyonu gerçekleştirilebilmektedir.
</p>


<div id="org20432c6" class="figure">
<p><img src="/img/2_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 13: </span>CarPlay Simülatör uygulamasının konumu.</p>
</div>


<div id="org555976b" class="figure">
<p><img src="/img/1_carplay.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 14: </span>CarPlay simülatör bağlantı görseli.</p>
</div>
</div>
<h3><a id="kaynakça" class="anchor" href="#kaynakça">¶</a>Kaynakça</h3><div class="outline-text-3" id="text-org880ce8b">
<ul class="org-ul">
<li><a href="https://developer.apple.com/videos/all-videos/?q=CarPlay">WWDC CarPlay Videos</a></li>
<li><a href="https://developer.apple.com/documentation/carplay">CarPlay dokümantasyonu</a></li>
<li><a href="https://developer.apple.com/contact/request/carplay/">Entitlements Request</a></li>
<li><a href="https://developer.apple.com/download/all/?q=Additional+Tools+for+Xcode">XCode Additional Tools for CarPlay</a></li>
</ul>
</div>
</div></div></div><footer class="site-footer"><div class="container"><div class="row"><div class="column"><p><a href="https://mobilen.art/credits/">Atıflar</a> · <a rel="me" href="https://tr.linkedin.com/in/suat-karakusoglu">s13u</a></p><p>© 2023-2024 Mobilen</p></div><div class="column align-right"><p><a href="https://github.com/suatkarakusoglu/mobilen"><img src="https://mobilen.art/img/site_github_icon.png" style="width: 80px" alt="Github'da Katkıda Bulun"/></a></p></div></div></div><div class="container"><div class="row site-footer-tags"><a class="tag" href="https://mobilen.art/tags/yazılım/">Yazılım #36</a><a class="tag" href="https://mobilen.art/tags/ios/">iOS #26</a><a class="tag" href="https://mobilen.art/tags/araçlar/">Araçlar #10</a><a class="tag" href="https://mobilen.art/tags/apple/">Apple #9</a><a class="tag" href="https://mobilen.art/tags/android/">Android #9</a><a class="tag" href="https://mobilen.art/tags/tasarım/">Tasarım #7</a><a class="tag" href="https://mobilen.art/tags/xcode/">Xcode #5</a><a class="tag" href="https://mobilen.art/tags/kitap/">Kitap #5</a><a class="tag" href="https://mobilen.art/tags/swiftui/">SwiftUI #4</a><a class="tag" href="https://mobilen.art/tags/terminal_komutları/">Terminal Komutları #4</a><a class="tag" href="https://mobilen.art/tags/android_studio/">Android Studio #3</a><a class="tag" href="https://mobilen.art/tags/tüyo/">Tüyo #3</a><a class="tag" href="https://mobilen.art/tags/wwdc/">WWDC #2</a><a class="tag" href="https://mobilen.art/tags/swift/">Swift #2</a><a class="tag" href="https://mobilen.art/tags/belgesel/">Belgesel #2</a><a class="tag" href="https://mobilen.art/tags/flutter/">Flutter #2</a><a class="tag" href="https://mobilen.art/tags/kurulum/">Kurulum #2</a><a class="tag" href="https://mobilen.art/tags/haber/">Haber #2</a><a class="tag" href="https://mobilen.art/tags/güvenlik/">Güvenlik #1</a><a class="tag" href="https://mobilen.art/tags/biyografi/">Biyografi #1</a><a class="tag" href="https://mobilen.art/tags/ürün_yönetimi/">Ürün Yönetimi #1</a><a class="tag" href="https://mobilen.art/tags/i̇letişim/">İletişim #1</a><a class="tag" href="https://mobilen.art/tags/kotlin/">Kotlin #1</a><a class="tag" href="https://mobilen.art/tags/react/">React #1</a><a class="tag" href="https://mobilen.art/tags/carplay/">CarPlay #1</a><a class="tag" href="https://mobilen.art/tags/ai/">AI #1</a><a class="tag" href="https://mobilen.art/tags/template/">Template #1</a><a class="tag" href="https://mobilen.art/tags/debugging/">Debugging #1</a></div></div></footer></body></html>
