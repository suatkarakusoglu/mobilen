<!-- Generated from d968c36 on 2024-09-04 @ 20:05 with Emacs 30.0.60 (Org mode 9.7.9) -->
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta author="Mobilen - Suat Karakuşoğlu"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="icon" type="image/png" href="/img/favicon.png"/><link rel="alternative" type="application/rss+xml" title="Mobilen Yazılar" href="https://mobilen.art/rss/news.xml"/><link rel="stylesheet" href="https://mobilen.art/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="https://mobilen.art/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="https://mobilen.art/css/code.css"/><link rel="stylesheet" href="https://mobilen.art/css/site.css"/><link rel="stylesheet" href="https://mobilen.art/css/code_highlighter_dark_theme.css"/><title>iOS Uygulaması Geliştirmede Hot Reload - Mobilen</title></head><body><header class="site-header"><div class="container"><div class="site-title"><h1>Mobilen</h1></div></div><div class="site-masthead"><div class="container"><nav class="nav"><a class="nav-link" href="/">Anasayfa</a> <a class="nav-link" href="/magazines/">Dergiler</a> <a class="nav-link" href="/news/">İçerikler</a> </nav></div></div></header><div class="container"><div class="site-post"><h1 class="site-post-title">iOS Uygulaması Geliştirmede Hot Reload</h1><a class="tag" href="https://mobilen.art/tags/ios/">iOS #25</a><a class="tag" href="https://mobilen.art/tags/yazılım/">Yazılım #34</a><a class="tag" href="https://mobilen.art/tags/swiftui/">SwiftUI #3</a><a class="tag" href="https://mobilen.art/tags/xcode/">Xcode #5</a><p class="site-post-meta">7 min read | November 27, 2023</p><div id="content"><p>
<a href="https://tr.linkedin.com/in/suat-karakusoglu">Suat Karakuşoğlu</a> yazdı.
</p>


<div id="org0f1df43" class="figure">
<p><img src="/img/how_reloading.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 1: </span>Photo by <a href="https://unsplash.com/@tangerinenewt">Tangerine Newt</a></p>
</div>
<h2><a id="i̇çerik" class="anchor" href="#i̇çerik">¶</a>İçerik</h2><div class="outline-text-2" id="text-org3eb7860">
<p>
Geliştiriciler için daha hızlı deneme yanılma yapabilmek, yaptıkları işin nasıl çalıştığını daha hızlı görmeyi sağlar.
Ona göre değişikliklere gidebilir, istediği özelliklere sahip sistemi böylece deneyimleyerek tasarlayabilir.
</p>

<p>
Kolay deneme yapabileceğiniz bir sistemin içinde daha zevkli bir ürün geliştirebilirsiniz.
Aklınızdaki diğer seçenekleri deneyimleme fırsatı bulursunuz.
</p>
</div>
<h3><a id="read--gt-evaluate--gt-print-ve-loop" class="anchor" href="#read--gt-evaluate--gt-print-ve-loop">¶</a>Read -&gt; Evaluate -&gt; Print ve Loop</h3><div class="outline-text-3" id="text-orgd38608c">
<p>
<code>Repl</code> geri besleme döngüsünün desteklendiği dillerdeki kodlama deneyimine verilen isim.
</p>

<p>
Repl desteği sağlayan dillerde dinamik bir şekilde kod&rsquo;un implementasyonunu değiştirip programın çalışmasına devam etmesini ve davranışını gözlemleyebilirsiniz.
</p>

<p>
<code>Python</code>, <code>Scala</code>, <code>Clojure</code> veya <code>Lisp</code> gibi dillerde daha çok rastlayabilirsiniz bu pratiklere.
</p>

<p>
Repl Driven Development pratikleri üzerinden istediğiniz özellikleri daha interaktif ve hızlı geliştirebiliyorsunuz.
</p>
</div>
<h3><a id="hot-reload-nedir" class="anchor" href="#hot-reload-nedir">¶</a>Hot Reload nedir?</h3><div class="outline-text-3" id="text-orgded13e8">
<p>
Arayüz geliştirmeleri içeren uygulamalarda REPL yaklaşımı &rsquo;hot reloading&rsquo;e denk geliyor.
</p>

<p>
Flutter gibi bazı frameworkler <a href="https://ln.hixie.ch/?start=1470157939&amp;count=1">en başından beri</a> hot reloading destekler şekilde geliştiricilerine bu yeteneği sağlıyor.
</p>

<blockquote>
<p>
Basitçe ekranın navigasyon hiyerarşini bozmadan, bulunduğunuz yerde, değişikliklerinizi arayüzde hızlıca görmenizi sağlayan yeteneğe &rsquo;Hot Reloading&rsquo; adını veriyoruz.
</p>
</blockquote>

<p>
Read -&gt; Evaluate/Compile -&gt; Render -&gt; Loop
</p>

<p>
Hot reloading döngüsünde &rsquo;print&rsquo; -&gt; &rsquo;render&rsquo; oluyor.
</p>

<p>
Verilen state ile tasarımınızın ekranda nasıl göründüğünü hot reloading ile hızlı bir <code>rendering</code> &lt;çizim&gt; yaparak görebiliyoruz.
</p>
</div>
<h3><a id="ios-geliştirmede-hot-reloading-mümkün-mü" class="anchor" href="#ios-geliştirmede-hot-reloading-mümkün-mü">¶</a>iOS geliştirmede hot reloading mümkün mü?</h3><div class="outline-text-3" id="text-orga78af86">
<p>
Apple&rsquo;ın arayüz geliştirme ekosisteminde yeni gelen <code>SwiftUI</code> frameworku ile preview&rsquo;ler desteklenir halde.
Bu ne demek, Xcode üzerinde tasarımın canlı olarak nasıl bir view çıktısı verdiğini görebilir hale geldik.
</p>

<p>
Şu anki haliyle, basit viewler için başarılı sonuçlar verse bile, görece büyük projelerde bu preview&rsquo;lerin derlenmesinde çoğu zaman hatalar ile karşılaşılıyor. Bu hatalar çokta verimli bir geliştirme ortamı sağlamıyor.
</p>

<p>
Previewler düzgün bile çalışıyor olsa, uygulama içinde hızlıca test yapmanızı sağlayan verilere ve hangi sayfada değişiklik yapma ihtiyacınıza göre, o sayfaya tekrar yönlenebilmeniz yine vaktinizi alan bir süreç.
</p>

<p>
Örnek veriyorum, bir eticaret uygulaması için, giriş yapma ihtiyacınız, ilgili ürünü listede bulmanız, ürünün detaylarına bakacak sayfayı açmanız sonrasında sepete ekleme butonunu görmeniz için bir çok adımı geçmeniz gerekiyor.
</p>

<p>
Bu yüzden preview&rsquo;ler hot reloading&rsquo;in yerini pek tutmuyor.
</p>
</div>
<h3><a id="iosrsquoe-hot-reloading-yeteneği-kazandırmak" class="anchor" href="#iosrsquoe-hot-reloading-yeteneği-kazandırmak">¶</a>iOS&rsquo;e hot reloading yeteneği kazandırmak</h3><div class="outline-text-3" id="text-orgb128a6c">
<p>
Hot reloading yapabilmek için belli başlı yeteneklerimiz olması gerekiyor.
</p>
<ol class="org-ol">
<li>Dosya/Kod değişimini farketmek.</li>
<li>Değişiklikleri derleyip çalışma zamanında yeni kodun çalışabilmesini sağlayacak <code>code injection</code> yapabilmek.</li>
<li>Arayüzde yeni kodlar ile renderingi sağlatabilecek değişikliği tetikletebilmek.</li>
</ol>
</div>
<h3><a id="code-injection-nedir" class="anchor" href="#code-injection-nedir">¶</a>Code Injection nedir?</h3><div class="outline-text-3" id="text-org2593c6c">
<p>
Derlenen kod&rsquo;un çalışma zamanında başka bir implementasyon ile yer değiştirebilmesine <code>code injection</code> diyebiliriz.
iOS için bu olay objective c dönemlerinden <code>code swizzling</code> olarak adlandırılıyordu.
</p>

<p>
Swift ile birlikte <code>=interposable=</code> seçeneği geldi. Bununla static olan çağırımın arasına derleyici artık bu seçeneği açtığınızda dinamik olarak girebiliyor ve değiştirdiğiniz yeni kod bloğunu çalıştırabilme yeteneği kazandırabiliyorsunuz.
</p>

<p>
iOS için hot reloading pratiklerinde bize yardımcı olan kütüphaneleri biraz tanıyalım.
</p>
</div>
<h3><a id="injectioniii" class="anchor" href="#injectioniii">¶</a>InjectionIII</h3><div class="outline-text-3" id="text-orga02f1c5">
<p>
<a href="https://github.com/johnno1962/InjectionIII">InjectionIII uygulaması</a> bahsettiğimiz code injection&rsquo;ı sağlayan kütüphane. Aynı zamanda ilk adım olarak bahsettiğimiz, projede hangi dosyaların değiştiğini algılamayı sağlıyor.
</p>
</div>
<h3><a id="inject" class="anchor" href="#inject">¶</a>Inject</h3><div class="outline-text-3" id="text-org0c9e093">
<p>
<a href="https://github.com/krzysztofzablocki/Inject">Inject kütüphanesi</a> InjectionIII uygulaması ile bütünleşik çalışarak bu derleme sonrası bahsettiğimiz en son tetiklemeyi sağlayan ufak bir wrapper kütüphane.
</p>
</div>
<h3><a id="bu-kütüphaneleri-nasıl-kullanıyoruz" class="anchor" href="#bu-kütüphaneleri-nasıl-kullanıyoruz">¶</a>Bu kütüphaneleri nasıl kullanıyoruz?</h3><h4><a id="injectioniii" class="anchor" href="#injectioniii">¶</a>InjectionIII</h4><div class="outline-text-4" id="text-orgf8cf4d3">
<ul class="org-ul">
<li><a href="https://github.com/johnno1962/InjectionIII/releases">InjectionIII</a> linkinden uygulamayı indiriyoruz. Uygulamayı &ldquo;/Applications&rdquo; klasör&rsquo;üne sürüklüyoruz.</li>
<li>Sonra uygulamayı çalıştırdıktan sonra bir tane <code>iğne ikonu</code> bar&rsquo;da görünecektir.</li>
<li>İkon&rsquo;a tıklayıp: &ldquo;Open project&rdquo; dedikten sonra iOS projenizin klasör&rsquo;ünü seçeceksiniz.</li>
</ul>

<p>
Bu noktadan sonra artık projedeki dosyaları uygulama takip eder duruma gelecektir.
</p>

<p>
Yani değişiklikleriniz dosya kaydedildikten sonra algılanacak ve tekrar derlenebilecektir.
</p>
</div>
<h4><a id="proje-ayarları" class="anchor" href="#proje-ayarları">¶</a>Proje ayarları</h4><div class="outline-text-4" id="text-org9dd9e3e">
<div class="highlight"><pre><span></span><span class="w">  </span><span class="c1"># Simülatör üzerinde hot reloading çalışabiliyor, bunun için bir =flag= tanımlanması gerekiyor.</span>
<span class="w">  </span>Target<span class="w"> </span>-&gt;<span class="w"> </span>Build<span class="w"> </span>Settings<span class="w"> </span>-&gt;<span class="w"> </span>Other<span class="w"> </span>Linking<span class="w"> </span>Flags<span class="w"> </span>-&gt;<span class="w"> </span><span class="s2">&quot;Debug scheme&quot;</span><span class="w"> </span>icin<span class="w"> </span><span class="s2">&quot;+&quot;</span><span class="w"> </span>diyerek<span class="w"> </span><span class="s2">&quot;-Xlinker -interposable&quot;</span><span class="w"> </span><span class="o">=</span><span class="nv">flag</span><span class="o">=</span><span class="w"> </span>eklemesi<span class="w"> </span>yapıyorsunuz.
</pre></div>


<div id="orgce1c3e3" class="figure">
<p><img src="/img/HotReloadLinkerFlag.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 2: </span>Linker flag eklemesi</p>
</div>
</div>
<h4><a id="inject-kütüphanesi" class="anchor" href="#inject-kütüphanesi">¶</a>Inject Kütüphanesi</h4><div class="outline-text-4" id="text-org34a0a48">
<p>
<a href="https://github.com/krzysztofzablocki/Inject">Inject kütüphanesi</a>&rsquo;ni <code>SPM</code> paketini Project -&gt; Package Dependencies -&gt; &ldquo;+&rdquo; diyerek ekleyebilirsiniz.
</p>

<p>
Bu wrapper değişiklikler sonrası yenilenmesini tetikleyen bağımlılık.
</p>

<div class="highlight"><pre><span></span>  <span class="kd">import</span> <span class="nc">SwiftUI</span>
  <span class="kd">import</span> <span class="nc">Inject</span>

  <span class="kd">struct</span> <span class="nc">ContentView</span><span class="p">:</span> <span class="n">View</span> <span class="p">{</span>
      <span class="c1">// Static nesneler lazy initialize olur</span>
      <span class="c1">// Inject.observer çağırararak observe nesnesi arkada yaratılıyor.</span>
      <span class="p">@</span><span class="n">ObservedObject</span> <span class="kd">private</span> <span class="kd">var</span> <span class="nv">iO</span> <span class="p">=</span> <span class="n">Inject</span><span class="p">.</span><span class="n">observer</span>

      <span class="kd">var</span> <span class="nv">body</span><span class="p">:</span> <span class="n">some</span> <span class="n">View</span> <span class="p">{</span>
          <span class="n">VStack</span> <span class="p">{</span>
              <span class="n">Image</span><span class="p">(</span><span class="n">systemName</span><span class="p">:</span> <span class="s">&quot;globe&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="n">imageScale</span><span class="p">(.</span><span class="n">large</span><span class="p">)</span>
                <span class="p">.</span><span class="n">foregroundColor</span><span class="p">(.</span><span class="n">green</span><span class="p">)</span>
                <span class="p">.</span><span class="n">padding</span><span class="p">()</span>
          <span class="p">}</span>
            <span class="p">.</span><span class="n">padding</span><span class="p">()</span>
            <span class="p">.</span><span class="n">background</span><span class="p">(.</span><span class="n">blue</span><span class="p">)</span>
            <span class="p">.</span><span class="n">clipShape</span><span class="p">(</span><span class="n">RoundedRectangle</span><span class="p">(</span><span class="n">cornerRadius</span><span class="p">:</span> <span class="mi">20</span><span class="p">))</span>
          <span class="c1">// Injection enable diyerek bu body&#39;nin</span>
          <span class="c1">// değişiklikler sonrası kendini yenilemesini sağlıyoruz.</span>
          <span class="c1">// Bu fonksiyon yalnızca &quot;DEBUG&quot; build için yetenek sağlıyor o nedenle kalabilir deniyor.</span>
          <span class="c1">// Ancak bu sayfa için iş bittikten sonra ben temizlenmesi taraftarıyım.</span>
            <span class="p">.</span><span class="n">enableInjection</span><span class="p">()</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></div>


<div id="org4773ba7" class="figure">
<p><img src="/img/CodeInjectionLogs.jpg" class="content-image" width="100%">
</p>
<p><span class="figure-number">Figure 3: </span>Code injection logları</p>
</div>

<p>
Unutmamanız gereken noktalar özetle:
</p>
<ul class="org-ul">
<li>InjectionIII uygulaması çalışır ve sizin proje dizininizi dinler durumda olmalı.</li>
<li>Uygulama içinde ilgili interpose flag&rsquo;ini debug scheme&rsquo;lerinizin için tanımlamalısınız.</li>
<li>Sonra hot reload etmek istediğiniz view&rsquo;ın body&rsquo;sinin sonuna .enableInjection demeniz gerekiyor.</li>
</ul>
</div>
<h3><a id="özetle" class="anchor" href="#özetle">¶</a>Özetle</h3><div class="outline-text-3" id="text-org1df634b">
<p>
Bu ayarları yaptıktan sonra simülatorünüzde artık herhangi bir kod değişikliğinde ilgili ekranın güncellendiğini görecekseniz.
Elbette gönül isterdi ki bu yetenek native olarak bulunsun ancak buna da şükür diyoruz.
</p>

<p>
Evet, hot reload hız kazandırabilirken geliştirmeyi eğlenceli hale getiriyor. Lütfen deneyimleyim.
İyi eğlenceler :)
</p>
</div>
<h3><a id="kaynakça" class="anchor" href="#kaynakça">¶</a>Kaynakça</h3><div class="outline-text-3" id="text-org05fc35c">
<ul class="org-ul">
<li><a href="https://github.com/johnno1962/InjectionIII">Injection Uygulaması</a></li>
<li><a href="https://github.com/krzysztofzablocki/Inject">Inject Kütüphanesi</a></li>
<li><a href="https://www.merowing.info/hot-reloading-in-swift/">Inject Kütüphane Kullanımı</a></li>
<li><a href="https://ln.hixie.ch/?start=1470157939&amp;count=1">Flutter Hot Reload Başlangıcı</a></li>
</ul>
</div>
</div></div></div><footer class="site-footer"><div class="container"><div class="row"><div class="column"><p><a href="https://mobilen.art/credits/">Atıflar</a> · <a rel="me" href="https://tr.linkedin.com/in/suat-karakusoglu">s13u</a></p><p>© 2023-2024 Mobilen</p></div><div class="column align-right"><p><a href="https://github.com/suatkarakusoglu/mobilen"><img src="https://mobilen.art/img/site_github_icon.png" style="width: 80px" alt="Github'da Katkıda Bulun"/></a></p></div></div></div><div class="container"><div class="row site-footer-tags"><a class="tag" href="https://mobilen.art/tags/yazılım/">Yazılım #34</a><a class="tag" href="https://mobilen.art/tags/ios/">iOS #25</a><a class="tag" href="https://mobilen.art/tags/araçlar/">Araçlar #8</a><a class="tag" href="https://mobilen.art/tags/apple/">Apple #8</a><a class="tag" href="https://mobilen.art/tags/android/">Android #8</a><a class="tag" href="https://mobilen.art/tags/tasarım/">Tasarım #6</a><a class="tag" href="https://mobilen.art/tags/xcode/">Xcode #5</a><a class="tag" href="https://mobilen.art/tags/kitap/">Kitap #5</a><a class="tag" href="https://mobilen.art/tags/terminal_komutları/">Terminal Komutları #4</a><a class="tag" href="https://mobilen.art/tags/swiftui/">SwiftUI #3</a><a class="tag" href="https://mobilen.art/tags/android_studio/">Android Studio #3</a><a class="tag" href="https://mobilen.art/tags/tüyo/">Tüyo #3</a><a class="tag" href="https://mobilen.art/tags/wwdc/">WWDC #2</a><a class="tag" href="https://mobilen.art/tags/swift/">Swift #2</a><a class="tag" href="https://mobilen.art/tags/belgesel/">Belgesel #2</a><a class="tag" href="https://mobilen.art/tags/flutter/">Flutter #2</a><a class="tag" href="https://mobilen.art/tags/haber/">Haber #2</a><a class="tag" href="https://mobilen.art/tags/güvenlik/">Güvenlik #1</a><a class="tag" href="https://mobilen.art/tags/biyografi/">Biyografi #1</a><a class="tag" href="https://mobilen.art/tags/ürün_yönetimi/">Ürün Yönetimi #1</a><a class="tag" href="https://mobilen.art/tags/i̇letişim/">İletişim #1</a><a class="tag" href="https://mobilen.art/tags/kotlin/">Kotlin #1</a><a class="tag" href="https://mobilen.art/tags/react/">React #1</a><a class="tag" href="https://mobilen.art/tags/carplay/">CarPlay #1</a><a class="tag" href="https://mobilen.art/tags/ai/">AI #1</a><a class="tag" href="https://mobilen.art/tags/template/">Template #1</a><a class="tag" href="https://mobilen.art/tags/debugging/">Debugging #1</a></div></div></footer></body></html>
