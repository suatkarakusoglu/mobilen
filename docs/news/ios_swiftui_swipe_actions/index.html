<!-- Generated from 6f8161b on 2023-08-07 @ 23:59 with Emacs 29.0.50 (Org mode 9.5.5) -->
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta author="Mobilen - Suat Karakuşoğlu"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="icon" type="image/png" href="/img/favicon.png"/><link rel="alternative" type="application/rss+xml" title="Mobilen News" href="https://mobilen.art/rss/news.xml"/><link rel="stylesheet" href="https://mobilen.art/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="https://mobilen.art/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="https://mobilen.art/css/code.css"/><link rel="stylesheet" href="https://mobilen.art/css/site.css"/><link rel="stylesheet" href="https://mobilen.art/css/code_highlighter_dark_theme.css"/><title>iOS SwiftUI Swipe Actions - Mobilen</title></head><body><header class="site-header"><div class="container"><div class="site-title"><img class="logo" src="https://mobilen.art/img/site_header_logo.png" alt="Mobilen News"/></div></div><div class="site-masthead"><div class="container"><nav class="nav"><a class="nav-link" href="/">Anasayfa</a> <a class="nav-link" href="/guides/">Dergiler</a> <a class="nav-link" href="/news/">İçerikler</a> <a class="nav-link" href="/community/">Topluluk</a> <a class="nav-link" href="https://mobilen.art/rss/">RSS Bülten</a> </nav></div></div></header><div class="container"><div class="site-post"><h1 class="site-post-title">iOS SwiftUI Swipe Actions</h1><p class="site-post-meta">July 11, 2023</p><div id="content"><p>
<a href="https://tr.linkedin.com/in/suat-karakusoglu">Suat Karakuşoğlu</a> yazdı.
</p>


<div id="orga887a93" class="figure">
<p><img src="/img/SwipeActions.jpg" width="100%">
</p>
<p><span class="figure-number">Figure 1: </span>Örnek Swipe Actions</p>
</div>
<h2><a id="swipe-actions-nedir" class="anchor" href="#swipe-actions-nedir">¶</a>Swipe Actions nedir?</h2><div class="outline-text-2" id="text-org068da10">
<p>
Merhabalar, herhangi bir ui elemanının üzerinden <code>swipe</code> ile çıkan aksiyonlar iOS kullanıcı deneyiminde önemli rol oynuyor.
</p>

<p>
Kullanıcı deneyimi açısından view&rsquo;ın altında gizli, sağından veya solundan çıkan bu aksiyonlar görünmüyor olsa bile özellikle iOS kullanıcıları bu davranışı listelerde arayabiliyor.
</p>

<p>
Davranış olarak sağ ve sol demek yerine burada tercih edilen jargon <code>leading</code> ve <code>trailing</code>, bunun başlıca sebebi dillerin sağdan sola veya soldan sağa olarak 2 farklı şekilde yazılabilmesi.
Soldan sağa yazılan dillerde sol-leading, sağ trailing iken, arapça-farsça gibi dillerde sol-trailing, sağ ise leading olmakta.
</p>

<p>
Swipe aksiyonları yazabilmek için yardımcı araçlar mevcut.
</p>

<p>
<code>Native</code> olarak SwiftUI tarafından iOS 15 ile SwiftUI List&rsquo;elerine eklendi.
<a href="https://developer.apple.com/documentation/swiftui/view/swipeactions(edge:allowsfullswipe:content:)">iOS 15 SwiftUI SwipeActions</a> adresinden native yöntem incelenebilir.
</p>

<p>
Ancak iOS-14 destekliyorsanız veya herhangi bir SwiftUI view&rsquo;e swipe aksiyonları eklemek isterseniz bunun için güzel bir SwiftUI component&rsquo;i açık kaynak olarak geliştirilip github&rsquo;a <code>spm</code> destekli olarak koyulmuş.
</p>

<p>
Bu yazımızda <a href="https://github.com/aheze/SwipeActions">Açık Kaynak SwipeActions Reposu</a>&rsquo;nu inceleyeceğiz.
</p>
</div>

<h2><a id="swipeactions-kullanımı" class="anchor" href="#swipeactions-kullanımı">¶</a>SwipeActions Kullanımı</h2><div class="outline-text-2" id="text-org10f4fcc">
<div class="highlight"><pre><span></span>  <span class="kd">import</span> <span class="nc">SwiftUI</span>
  <span class="kd">import</span> <span class="nc">SwipeActions</span>

  <span class="kd">struct</span> <span class="nc">ContentView</span><span class="p">:</span> <span class="n">View</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nv">body</span><span class="p">:</span> <span class="n">some</span> <span class="n">View</span> <span class="p">{</span>
          <span class="n">SwipeView</span> <span class="p">{</span>
              <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">maxWidth</span><span class="p">:</span> <span class="p">.</span><span class="n">infinity</span><span class="p">)</span>
                <span class="p">.</span><span class="n">padding</span><span class="p">(.</span><span class="n">vertical</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
                <span class="p">.</span><span class="n">background</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">blue</span><span class="p">.</span><span class="n">opacity</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span>
                <span class="p">.</span><span class="n">cornerRadius</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
          <span class="p">}</span> <span class="n">trailingActions</span><span class="p">:</span> <span class="p">{</span> <span class="kc">_</span> <span class="k">in</span>
              <span class="n">SwipeAction</span><span class="p">(</span><span class="s">&quot;World&quot;</span><span class="p">)</span> <span class="p">{</span>
                  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Tapped!&quot;</span><span class="p">)</span>
              <span class="p">}</span>
          <span class="p">}</span>
            <span class="p">.</span><span class="n">padding</span><span class="p">()</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
</div>

<h2><a id="kaynak-kod-okuma-codepreferencekeycode-kullanımı" class="anchor" href="#kaynak-kod-okuma-codepreferencekeycode-kullanımı">¶</a>Kaynak Kod Okuma: <code>PreferenceKey</code> kullanımı</h2><div class="outline-text-2" id="text-org7ddb698">
<p>
Veri iletişimi view componentleri arasında Environment Objeler uzerinden <code>Parent</code> → <code>Child</code> view yönünde olabiliyor.
Veya data binding ile <code>@Binding</code> çift taraflı <code>reactive</code> şekilde sağlanabiliyor.
</p>

<p>
PreferenceKey ile olan bu veri iletişiminde ise diğer bir ihtiyaç olan ise <code>child</code> → <code>parent</code> arasında veri geçişi yapabiliyoruz.
</p>

<div class="highlight"><pre><span></span>  <span class="kd">struct</span> <span class="nc">AllowSwipeToTriggerKey</span><span class="p">:</span> <span class="n">PreferenceKey</span> <span class="p">{</span>
      <span class="kd">static</span> <span class="kd">var</span> <span class="nv">defaultValue</span><span class="p">:</span> <span class="nb">Bool</span><span class="p">?</span> <span class="p">=</span> <span class="kc">nil</span>
      <span class="kd">static</span> <span class="kd">func</span> <span class="nf">reduce</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="kr">inout</span> <span class="nb">Bool</span><span class="p">?,</span> <span class="n">nextValue</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Bool</span><span class="p">?)</span>
      <span class="p">{</span> <span class="n">value</span> <span class="p">=</span> <span class="n">nextValue</span><span class="p">()</span> <span class="p">}</span>
  <span class="p">}</span>
</pre></div>

<p>
Preference key tanımlarken ihtiyaç duyulan <code>PreferenceKey</code> protocol&rsquo;unu <code>conform</code> etmek.
Bunun için bir varsayılan değer <code>defaultValue</code> gerekiyor.
Ayrıca ikinci olarak <code>reduce</code> fonksiyonu, bu fonksiyon dışarıdan sağlanan değerin preference olarak set edilmesine müdahale edilebilecek noktayı sağlıyor.
</p>

<p>
Kullanımı için 2 tane <code>modifier</code>&rsquo;imiz mevcut: <code>preference</code> ve <code>onPreferenceChange</code>.
</p>

<p>
Preference Key ile veriyi yukarı aktarma <a href="https://github.com/aheze/SwipeActions/blob/main/Sources/SwipeActions.swift#L328">burada</a> gorebilirsiniz:
</p>
<div class="highlight"><pre><span></span>  <span class="n">view</span><span class="p">.</span><span class="n">onPreferenceChange</span><span class="p">(</span><span class="n">AllowSwipeToTriggerKey</span><span class="p">.</span><span class="kc">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">allow</span> <span class="k">in</span>
      <span class="c1">/// Unwrap the value first (if it&#39;s not the edge action, `allow` is `nil`).</span>
      <span class="k">if</span> <span class="kd">let</span> <span class="nv">allow</span> <span class="p">{</span>
          <span class="n">swipeToTriggerLeadingEdge</span> <span class="p">=</span> <span class="n">allow</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></div>

<p>
Ayrıca apple sdk&rsquo;inde de <code>navigationTitle</code> modifier&rsquo;i ile <code>preference key</code> kullanılarak <code>child</code> üzerinden çağırılan bir method ile üst view&rsquo;deki <code>title</code>&rsquo;i değiştirebiliyor.
</p>

<p>
Özetle hiyerarşide yukarı veri taşıyabilmek için kullanılan bu yapının kullanıldığını görüyoruz.
Daha detaylı anlamak için <a href="https://swiftwithmajid.com/2020/01/15/the-magic-of-view-preferences-in-swiftui/">Magic of View Preferences in SwiftUI</a> yazısına göz atabilirsiniz.
</p>
</div>

<h2><a id="extension-methodlara-generic-constraint-uygulamak" class="anchor" href="#extension-methodlara-generic-constraint-uygulamak">¶</a>Extension methodlara Generic Constraint Uygulamak</h2><div class="outline-text-2" id="text-org19ce6d4">
<p>
<code>Generic</code> kullanarak <code>extension method</code>&rsquo;larının yalnızca ilgili tipler ile kullanılmasını derleme seviyesinde sağlamak tatlı bir özellik.
<a href="https://github.com/aheze/SwipeActions/blob/main/Sources/SwipeActions.swift#L986">Burada</a> ilgili örneği görebilirsiniz.
</p>

<div class="highlight"><pre><span></span>  <span class="kd">public</span> <span class="kd">extension</span> <span class="nc">SwipeAction</span> <span class="k">where</span> <span class="n">Label</span> <span class="p">==</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Background</span> <span class="p">==</span> <span class="n">Color</span> <span class="p">{</span>
      <span class="c1">// Buraya yazılan methodlar yalnızca</span>
      <span class="c1">// Label Generic Parametresi Text olan ve Background&#39;u Color olan &#39;SwipeAction&#39;lara önerilir.</span>
  <span class="p">}</span>
</pre></div>
</div>

<h2><a id="kaynaklar" class="anchor" href="#kaynaklar">¶</a>Kaynaklar</h2><div class="outline-text-2" id="text-org11ef8e2">
<ol class="org-ol">
<li><a href="https://github.com/aheze/SwipeActions">SwipeActions Repo</a></li>
<li><a href="https://developer.apple.com/documentation/swiftui/preferences?changes=_7">Apple PreferenceKey Dokümantasyonu</a></li>
<li><a href="https://swiftwithmajid.com/2020/01/15/the-magic-of-view-preferences-in-swiftui/">Magic of View Preferences in SwiftUI</a></li>
</ol>
</div>
</div></div></div><footer class="site-footer"><div class="container"><div class="row"><div class="column"><p><a href="https://mobilen.art/rss/">RSS Bülten</a> · <a href="https://mobilen.art/credits/">Atıflar</a> · <a rel="me" href="https://tr.linkedin.com/in/suat-karakusoglu">s13u</a></p><p>© 2023-2024 Mobilen</p></div><div class="column align-right"><p><a href="https://github.com/suatkarakusoglu/mobilen"><img src="https://mobilen.art/img/site_github_icon.png" style="width: 80px" alt="Github'da Katkıda Bulun"/></a></p></div></div></div></footer></body></html>
